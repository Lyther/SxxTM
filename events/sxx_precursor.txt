namespace = sxx_precursor

################################################ 天鼎宗 ################################################

# via on_survey = {} | this = surveying vessel
ship_event = {
	id = sxx_precursor.1
	title = sxx_precursor.1.name
	desc = sxx_precursor.1.desc
	picture = GFX_evt_archaeological_dig
	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			is_sxx_sect = yes
			has_sxx_precursor_intro = no
		}
		solar_system = { has_star_flag = sxx_precursor_1 }
		solar_system = { NOT = { is_same_value = root.owner.capital_scope.solar_system } }
		FROM = {
			has_anomaly = no
			is_star = no
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			any_playable_country = {
				has_country_flag = sxx_precursor1_intro
			}
		}
	}

	immediate = {
		owner = { set_country_flag = sxx_precursor1_intro }
	}

	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
		owner = {
			begin_event_chain = {
				event_chain = sxx_precursor1_chain
				target = THIS
			}
			small_artifact_reward = yes
		}
	}
}

# Mining Base
ship_event = {
	id = sxx_precursor.5
	title = "sxx_precursor.5.name"
	desc = "sxx_precursor.5.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_1 }
		}
	}

	option = {
		name = FASCINATING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_1"
				location = this
				owner = root.owner
			}
		}
	}
}

# Mining Base Project Completed
ship_event = {
	id = sxx_precursor.6
	title = "precursor.completed.name"
	desc = "sxx_precursor.6.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.10
	title = "sxx_precursor.10.name"
	desc = "sxx_precursor.10.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_2 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_2"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.11
	title = "precursor.completed.name"
	desc = "sxx_precursor.11.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.15
	title = "sxx_precursor.15.name"
	desc = "sxx_precursor.15.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_3 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_3"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.16
	title = "precursor.completed.name"
	desc = sxx_precursor.16.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.20
	title = "sxx_precursor.20.name"
	desc = "sxx_precursor.20.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_4 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_4"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.21
	title = "precursor.completed.name"
	desc = sxx_precursor.21.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.25
	title = "sxx_precursor.25.name"
	desc = "sxx_precursor.25.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_5 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_5"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.26
	title = "precursor.completed.name"
	desc = sxx_precursor.26.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.30
	title = "sxx_precursor.30.name"
	desc = "sxx_precursor.30.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor1_6 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_ARCHEOLOGY_6"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.31
	title = "precursor.completed.name"
	desc = sxx_precursor.31.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor1_chain"
				counter = "sxx_precursor1_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.97 } }
		}
	}
}

# Port to Home System events
country_event = {
	id = sxx_precursor.97
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOR = {
					has_global_flag = sxx_precursor1_system_discovered
					has_country_flag = sxx_precursor1_system
				}
				has_completed_event_chain_counter = {
					event_chain = "sxx_precursor1_chain"
					counter = "sxx_precursor1_artifacts"
				}
			}
			country_event = { id = sxx_precursor.98 }
		}
		else_if = {
			limit = {
				has_global_flag = sxx_precursor1_system_discovered
				NOT = { has_country_flag = sxx_precursor1_system }
				has_completed_event_chain_counter = {
					event_chain = sxx_precursor1_chain
					counter = sxx_precursor1_artifacts
				}
			}
			country_event = { id = sxx_precursor.99 }
		}
	}
}

# sxx_precursor1 Home System Discovered (HIDDEN)
country_event = {
	id = sxx_precursor.98
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = sxx_precursor1_system_discovered
		set_country_flag = sxx_precursor1_system

		if = {
			limit = {
				any_system_within_border = { has_star_flag = sxx_precursor_1 }
			}
			random_system_within_border = {
				limit = { has_star_flag = sxx_precursor_1 }
				save_event_target_as = precursor_spawn_system
			}
		}
		else = {
			random_system_within_border = {
				save_event_target_as = precursor_spawn_system
			}
		}
		event_target:precursor_spawn_system = {
			spawn_system = {
				min_distance = 10
				max_distance = 30
				max_jumps = 0
				initializer = "sxx_precursor1_system"
			}
			if = {
				limit = { last_created_system = { NOT = { has_hyperlane_to = prev } } }
				add_hyperlane = {
					from = this
					to = last_created_system
				}
			}
			else = {
				add_extra_hyperlane_to_spawned_system_effect = yes
			}
		}
		country_event = { id = sxx_precursor.100 days = 2 }
	}
}

# sxx_precursor1 Home System Discovered (Not First) (HIDDEN)
country_event = {
	id = sxx_precursor.99
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_country_flag = sxx_precursor1_system
		country_event = { id = sxx_precursor.100 days = 2 }
	}
}

# sxx_precursor1 Home System Discovered
country_event = {
	id = sxx_precursor.100
	title = "sxx_precursor.100.name"
	desc = "sxx_precursor.100.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:sxx_precursor1_home_star

	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = sxx_precursor1_home_star }
			save_event_target_as = sxx_precursor1_home_star
			root = { set_visited = prev }
			random_system_planet = {
				limit = { has_planet_flag = sxx_precursor1_homeworld }
				save_event_target_as = sxx_precursor1_homeworld
			}
		}
		#observer_event = { id = observer.56 }
	}

	option = {
		name = "sxx_precursor.100.a"
		end_event_chain = "sxx_precursor1_chain"
		begin_event_chain = {
			event_chain = "sxx_precursor1_homeworld_chain"
			target = ROOT
		}
		event_target:sxx_precursor1_homeworld = {
			enable_special_project = {
				name = "SXX_PRECURSOR1_HOMEWORLD_PROJECT"
				location = event_target:sxx_precursor1_homeworld
				owner = ROOT
			}
		}
	}
}

# sxx_precursor1 Homeworld
ship_event = {
	id = sxx_precursor.101
	title = "sxx_precursor.101.name"
	desc = "sxx_precursor.101.desc"
	picture = GFX_evt_archaeological_dig
	location = from

	is_triggered_only = yes

	trigger = {
		fromfrom = { has_planet_flag = sxx_precursor1_homeworld }
		owner = {
			is_ai = no
			has_country_flag = sxx_precursor1_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = sxx_precursor1_world_found
			set_global_flag = sxx_precursor1_homeworld_found
			if = {
				limit = { has_event_chain = sxx_precursor1_chain }
				end_event_chain = sxx_precursor1_chain
			}
			if = {
				limit = { has_event_chain = sxx_precursor1_homeworld_chain }
				end_event_chain = sxx_precursor1_homeworld_chain
			}
		}
	}

	option = {
		name = "FASCINATING"
		owner = {
			add_relic = r_sxx_hunyuan_pot
			large_artifact_reward = yes
			add_monthly_resource_mult = {
				resource = unity
				value = 120
				min = 240
				max = 9999
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			if = {
				limit = { has_ancrel = yes }
				custom_tooltip = sxx_precursor1_artifact_research_unlocked
			}
		}
	}
}

# Someone else got there first
ship_event = {
	id = sxx_precursor.102
	title = "sxx_precursor.102.name"

	desc = {
		text = sxx_precursor.102.desc.a
		trigger = {
			owner = {
				OR = {
					has_event_chain = sxx_precursor1_chain
					has_event_chain = sxx_precursor1_homeworld_chain
				}
			}
		}
	}
	desc = {
		text = sxx_precursor.102.desc.b
		trigger = {
			owner = {
				NOR = {
					has_event_chain = sxx_precursor1_chain
					has_event_chain = sxx_precursor1_homeworld_chain
				}
			}
		}
	}

	location = from
	picture = GFX_evt_archaeological_dig

	is_triggered_only = yes

	immediate = {
		owner = {
			set_country_flag = sxx_precursor1_world_found
			if = {
				limit = { has_event_chain = sxx_precursor1_chain }
				end_event_chain = "sxx_precursor1_chain"
			}
			if = {
				limit = { has_event_chain = sxx_precursor1_homeworld_chain }
				end_event_chain = "sxx_precursor1_homeworld_chain"
			}
		}
	}

	option = {
		name = "UNFORTUNATE"
		if = {
			limit = { has_ancrel = yes }
			custom_tooltip = sxx_precursor1_artifact_research_unlocked
		}
	}
}

# Vultaum Artifact Research Complete
country_event = {
	id = sxx_precursor.110
	title = sxx_precursor.110.name
	desc = sxx_precursor.110.desc

	picture = GFX_evt_ancient_databank
	location = from

	is_triggered_only = yes

	option = {
		name = INTERESTING

		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}

		add_modifier = {
			modifier = artifact_sxx_precursor1_research_completed # computer research and amenities bonus
			days = -1
		}
	}
}

################################################ 万剑山 ################################################

# via on_survey = {} | this = surveying vessel
ship_event = {
	id = sxx_precursor.201
	title = sxx_precursor.201.name
	desc = sxx_precursor.201.desc
	picture = GFX_evt_archaeological_dig
	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			is_sxx_sect = yes
			has_sxx_precursor_intro = no
		}
		solar_system = { has_star_flag = sxx_precursor_2 }
		solar_system = { NOT = { is_same_value = root.owner.capital_scope.solar_system } }
		FROM = {
			has_anomaly = no
			is_star = no
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			any_playable_country = {
				has_country_flag = sxx_precursor2_intro
			}
		}
	}

	immediate = {
		owner = { set_country_flag = sxx_precursor2_intro }
	}

	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
		owner = {
			begin_event_chain = {
				event_chain = sxx_precursor2_chain
				target = THIS
			}
			small_artifact_reward = yes
		}
	}
}

# Mining Base
ship_event = {
	id = sxx_precursor.205
	title = "sxx_precursor.205.name"
	desc = "sxx_precursor.205.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_1 }
		}
	}

	option = {
		name = FASCINATING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_1"
				location = this
				owner = root.owner
			}
		}
	}
}

# Mining Base Project Completed
ship_event = {
	id = sxx_precursor.206
	title = "precursor.completed.name"
	desc = "sxx_precursor.206.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.210
	title = "sxx_precursor.210.name"
	desc = "sxx_precursor.210.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_2 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_2"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.211
	title = "precursor.completed.name"
	desc = "sxx_precursor.211.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.215
	title = "sxx_precursor.215.name"
	desc = "sxx_precursor.215.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_3 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_3"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.216
	title = "precursor.completed.name"
	desc = sxx_precursor.216.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.220
	title = "sxx_precursor.220.name"
	desc = "sxx_precursor.220.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_4 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_4"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.221
	title = "precursor.completed.name"
	desc = sxx_precursor.221.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.225
	title = "sxx_precursor.225.name"
	desc = "sxx_precursor.225.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_5 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_5"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.226
	title = "precursor.completed.name"
	desc = sxx_precursor.226.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.230
	title = "sxx_precursor.230.name"
	desc = "sxx_precursor.230.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor2_6 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_ARCHEOLOGY_6"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.231
	title = "precursor.completed.name"
	desc = sxx_precursor.231.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor2_chain"
				counter = "sxx_precursor2_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.297 } }
		}
	}
}

# Port to Home System events
country_event = {
	id = sxx_precursor.297
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOR = {
					has_global_flag = sxx_precursor2_system_discovered
					has_country_flag = sxx_precursor2_system
				}
				has_completed_event_chain_counter = {
					event_chain = "sxx_precursor2_chain"
					counter = "sxx_precursor2_artifacts"
				}
			}
			country_event = { id = sxx_precursor.298 }
		}
		else_if = {
			limit = {
				has_global_flag = sxx_precursor2_system_discovered
				NOT = { has_country_flag = sxx_precursor2_system }
				has_completed_event_chain_counter = {
					event_chain = sxx_precursor2_chain
					counter = sxx_precursor2_artifacts
				}
			}
			country_event = { id = sxx_precursor.299 }
		}
	}
}

# sxx_precursor2 Home System Discovered (HIDDEN)
country_event = {
	id = sxx_precursor.298
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = sxx_precursor2_system_discovered
		set_country_flag = sxx_precursor2_system

		if = {
			limit = {
				any_system_within_border = { has_star_flag = sxx_precursor_2 }
			}
			random_system_within_border = {
				limit = { has_star_flag = sxx_precursor_2 }
				save_event_target_as = precursor_spawn_system
			}
		}
		else = {
			random_system_within_border = {
				save_event_target_as = precursor_spawn_system
			}
		}
		event_target:precursor_spawn_system = {
			spawn_system = {
				min_distance = 10
				max_distance = 30
				max_jumps = 0
				initializer = "sxx_precursor2_system"
			}
			if = {
				limit = { last_created_system = { NOT = { has_hyperlane_to = prev } } }
				add_hyperlane = {
					from = this
					to = last_created_system
				}
			}
			else = {
				add_extra_hyperlane_to_spawned_system_effect = yes
			}
		}
		country_event = { id = sxx_precursor.300 days = 2 }
	}
}

# sxx_precursor2 Home System Discovered (Not First) (HIDDEN)
country_event = {
	id = sxx_precursor.299
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_country_flag = sxx_precursor2_system
		country_event = { id = sxx_precursor.300 days = 2 }
	}
}

# sxx_precursor2 Home System Discovered
country_event = {
	id = sxx_precursor.300
	title = "sxx_precursor.300.name"
	desc = "sxx_precursor.300.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:sxx_precursor2_home_star

	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = sxx_precursor2_home_star }
			save_event_target_as = sxx_precursor2_home_star
			root = { set_visited = prev }
			random_system_planet = {
				limit = { has_planet_flag = sxx_precursor2_homeworld }
				save_event_target_as = sxx_precursor2_homeworld
			}
		}
		#observer_event = { id = observer.56 }
	}

	option = {
		name = "sxx_precursor.300.a"
		end_event_chain = "sxx_precursor2_chain"
		begin_event_chain = {
			event_chain = "sxx_precursor2_homeworld_chain"
			target = ROOT
		}
		event_target:sxx_precursor2_homeworld = {
			enable_special_project = {
				name = "SXX_PRECURSOR2_HOMEWORLD_PROJECT"
				location = event_target:sxx_precursor2_homeworld
				owner = ROOT
			}
		}
	}
}

# sxx_precursor2 Homeworld
ship_event = {
	id = sxx_precursor.301
	title = "sxx_precursor.301.name"
	desc = "sxx_precursor.301.desc"
	picture = GFX_evt_archaeological_dig
	location = from

	is_triggered_only = yes

	trigger = {
		fromfrom = { has_planet_flag = sxx_precursor2_homeworld }
		owner = {
			is_ai = no
			has_country_flag = sxx_precursor2_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = sxx_precursor2_world_found
			set_global_flag = sxx_precursor2_homeworld_found
			if = {
				limit = { has_event_chain = sxx_precursor2_chain }
				end_event_chain = sxx_precursor2_chain
			}
			if = {
				limit = { has_event_chain = sxx_precursor2_homeworld_chain }
				end_event_chain = sxx_precursor2_homeworld_chain
			}
		}
	}

	option = {
		name = "FASCINATING"
		owner = {
			add_relic = r_sxx_sword_tomb
			large_artifact_reward = yes
			add_monthly_resource_mult = {
				resource = unity
				value = 120
				min = 240
				max = 9999
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			if = {
				limit = { has_ancrel = yes }
				custom_tooltip = sxx_precursor2_artifact_research_unlocked
			}
		}
	}
}

# Someone else got there first
ship_event = {
	id = sxx_precursor.302
	title = "sxx_precursor.302.name"

	desc = {
		text = sxx_precursor.302.desc.a
		trigger = {
			owner = {
				OR = {
					has_event_chain = sxx_precursor2_chain
					has_event_chain = sxx_precursor2_homeworld_chain
				}
			}
		}
	}
	desc = {
		text = sxx_precursor.302.desc.b
		trigger = {
			owner = {
				NOR = {
					has_event_chain = sxx_precursor2_chain
					has_event_chain = sxx_precursor2_homeworld_chain
				}
			}
		}
	}

	location = from
	picture = GFX_evt_archaeological_dig

	is_triggered_only = yes

	immediate = {
		owner = {
			set_country_flag = sxx_precursor2_world_found
			if = {
				limit = { has_event_chain = sxx_precursor2_chain }
				end_event_chain = "sxx_precursor2_chain"
			}
			if = {
				limit = { has_event_chain = sxx_precursor2_homeworld_chain }
				end_event_chain = "sxx_precursor2_homeworld_chain"
			}
		}
	}

	option = {
		name = "UNFORTUNATE"
		if = {
			limit = { has_ancrel = yes }
			custom_tooltip = sxx_precursor2_artifact_research_unlocked
		}
	}
}

# Vultaum Artifact Research Complete
country_event = {
	id = sxx_precursor.310
	title = sxx_precursor.310.name
	desc = sxx_precursor.310.desc

	picture = GFX_evt_ancient_databank
	location = from

	is_triggered_only = yes

	option = {
		name = INTERESTING

		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}

		add_modifier = {
			modifier = artifact_sxx_precursor2_research_completed # computer research and amenities bonus
			days = -1
		}
	}
}

################################################ 禁神殿 ################################################

# via on_survey = {} | this = surveying vessel
ship_event = {
	id = sxx_precursor.401
	title = sxx_precursor.401.name
	desc = sxx_precursor.401.desc
	picture = GFX_evt_archaeological_dig
	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			is_sxx_sect = yes
			has_sxx_precursor_intro = no
		}
		solar_system = { has_star_flag = sxx_precursor_3 }
		solar_system = { NOT = { is_same_value = root.owner.capital_scope.solar_system } }
		FROM = {
			has_anomaly = no
			is_star = no
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			any_playable_country = {
				has_country_flag = sxx_precursor3_intro
			}
		}
	}

	immediate = {
		owner = { set_country_flag = sxx_precursor3_intro }
	}

	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
		owner = {
			begin_event_chain = {
				event_chain = sxx_precursor3_chain
				target = THIS
			}
			small_artifact_reward = yes
		}
	}
}

# Mining Base
ship_event = {
	id = sxx_precursor.405
	title = "sxx_precursor.405.name"
	desc = "sxx_precursor.405.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_1 }
		}
	}

	option = {
		name = FASCINATING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_1"
				location = this
				owner = root.owner
			}
		}
	}
}

# Mining Base Project Completed
ship_event = {
	id = sxx_precursor.406
	title = "precursor.completed.name"
	desc = "sxx_precursor.406.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.410
	title = "sxx_precursor.410.name"
	desc = "sxx_precursor.410.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_2 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_2"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.411
	title = "precursor.completed.name"
	desc = "sxx_precursor.411.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.415
	title = "sxx_precursor.415.name"
	desc = "sxx_precursor.415.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_3 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_3"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.416
	title = "precursor.completed.name"
	desc = sxx_precursor.416.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.420
	title = "sxx_precursor.420.name"
	desc = "sxx_precursor.420.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_4 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_4"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.421
	title = "precursor.completed.name"
	desc = sxx_precursor.421.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.425
	title = "sxx_precursor.425.name"
	desc = "sxx_precursor.425.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_5 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_5"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.426
	title = "precursor.completed.name"
	desc = sxx_precursor.426.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.430
	title = "sxx_precursor.430.name"
	desc = "sxx_precursor.430.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor3_6 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_ARCHEOLOGY_6"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.431
	title = "precursor.completed.name"
	desc = sxx_precursor.431.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor3_chain"
				counter = "sxx_precursor3_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.497 } }
		}
	}
}

# Port to Home System events
country_event = {
	id = sxx_precursor.497
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOR = {
					has_global_flag = sxx_precursor3_system_discovered
					has_country_flag = sxx_precursor3_system
				}
				has_completed_event_chain_counter = {
					event_chain = "sxx_precursor3_chain"
					counter = "sxx_precursor3_artifacts"
				}
			}
			country_event = { id = sxx_precursor.498 }
		}
		else_if = {
			limit = {
				has_global_flag = sxx_precursor3_system_discovered
				NOT = { has_country_flag = sxx_precursor3_system }
				has_completed_event_chain_counter = {
					event_chain = sxx_precursor3_chain
					counter = sxx_precursor3_artifacts
				}
			}
			country_event = { id = sxx_precursor.499 }
		}
	}
}

# sxx_precursor3 Home System Discovered (HIDDEN)
country_event = {
	id = sxx_precursor.498
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = sxx_precursor3_system_discovered
		set_country_flag = sxx_precursor3_system

		if = {
			limit = {
				any_system_within_border = { has_star_flag = sxx_precursor_3 }
			}
			random_system_within_border = {
				limit = { has_star_flag = sxx_precursor_3 }
				save_event_target_as = precursor_spawn_system
			}
		}
		else = {
			random_system_within_border = {
				save_event_target_as = precursor_spawn_system
			}
		}
		event_target:precursor_spawn_system = {
			spawn_system = {
				min_distance = 10
				max_distance = 30
				max_jumps = 0
				initializer = "sxx_precursor3_system"
			}
			if = {
				limit = { last_created_system = { NOT = { has_hyperlane_to = prev } } }
				add_hyperlane = {
					from = this
					to = last_created_system
				}
			}
			else = {
				add_extra_hyperlane_to_spawned_system_effect = yes
			}
		}
		country_event = { id = sxx_precursor.500 days = 2 }
	}
}

# sxx_precursor3 Home System Discovered (Not First) (HIDDEN)
country_event = {
	id = sxx_precursor.499
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_country_flag = sxx_precursor3_system
		country_event = { id = sxx_precursor.500 days = 2 }
	}
}

# sxx_precursor3 Home System Discovered
country_event = {
	id = sxx_precursor.500
	title = "sxx_precursor.500.name"
	desc = "sxx_precursor.500.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:sxx_precursor3_home_star

	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = sxx_precursor3_home_star }
			save_event_target_as = sxx_precursor3_home_star
			root = { set_visited = prev }
			random_system_planet = {
				limit = { has_planet_flag = sxx_precursor3_homeworld }
				save_event_target_as = sxx_precursor3_homeworld
			}
		}
		#observer_event = { id = observer.56 }
	}

	option = {
		name = "sxx_precursor.500.a"
		end_event_chain = "sxx_precursor3_chain"
		begin_event_chain = {
			event_chain = "sxx_precursor3_homeworld_chain"
			target = ROOT
		}
		event_target:sxx_precursor3_homeworld = {
			enable_special_project = {
				name = "SXX_PRECURSOR3_HOMEWORLD_PROJECT"
				location = event_target:sxx_precursor3_homeworld
				owner = ROOT
			}
		}
	}
}

# sxx_precursor3 Homeworld
ship_event = {
	id = sxx_precursor.501
	title = "sxx_precursor.501.name"
	desc = "sxx_precursor.501.desc"
	picture = GFX_evt_archaeological_dig
	location = from

	is_triggered_only = yes

	trigger = {
		fromfrom = { has_planet_flag = sxx_precursor3_homeworld }
		owner = {
			is_ai = no
			has_country_flag = sxx_precursor3_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = sxx_precursor3_world_found
			set_global_flag = sxx_precursor3_homeworld_found
			if = {
				limit = { has_event_chain = sxx_precursor3_chain }
				end_event_chain = sxx_precursor3_chain
			}
			if = {
				limit = { has_event_chain = sxx_precursor3_homeworld_chain }
				end_event_chain = sxx_precursor3_homeworld_chain
			}
		}
	}

	option = {
		name = "FASCINATING"
		owner = {
			add_relic = r_sxx_array_disk
			large_artifact_reward = yes
			add_monthly_resource_mult = {
				resource = unity
				value = 120
				min = 240
				max = 9999
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			if = {
				limit = { has_ancrel = yes }
				custom_tooltip = sxx_precursor3_artifact_research_unlocked
			}
		}
	}
}

# Someone else got there first
ship_event = {
	id = sxx_precursor.502
	title = "sxx_precursor.502.name"

	desc = {
		text = sxx_precursor.502.desc.a
		trigger = {
			owner = {
				OR = {
					has_event_chain = sxx_precursor3_chain
					has_event_chain = sxx_precursor3_homeworld_chain
				}
			}
		}
	}
	desc = {
		text = sxx_precursor.502.desc.b
		trigger = {
			owner = {
				NOR = {
					has_event_chain = sxx_precursor3_chain
					has_event_chain = sxx_precursor3_homeworld_chain
				}
			}
		}
	}

	location = from
	picture = GFX_evt_archaeological_dig

	is_triggered_only = yes

	immediate = {
		owner = {
			set_country_flag = sxx_precursor3_world_found
			if = {
				limit = { has_event_chain = sxx_precursor3_chain }
				end_event_chain = "sxx_precursor3_chain"
			}
			if = {
				limit = { has_event_chain = sxx_precursor3_homeworld_chain }
				end_event_chain = "sxx_precursor3_homeworld_chain"
			}
		}
	}

	option = {
		name = "UNFORTUNATE"
		if = {
			limit = { has_ancrel = yes }
			custom_tooltip = sxx_precursor3_artifact_research_unlocked
		}
	}
}

# Vultaum Artifact Research Complete
country_event = {
	id = sxx_precursor.510
	title = sxx_precursor.510.name
	desc = sxx_precursor.510.desc

	picture = GFX_evt_ancient_databank
	location = from

	is_triggered_only = yes

	option = {
		name = INTERESTING

		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}

		add_modifier = {
			modifier = artifact_sxx_precursor3_research_completed # computer research and amenities bonus
			days = -1
		}
	}
}

################################################ 修罗神国 ################################################

# via on_survey = {} | this = surveying vessel
ship_event = {
	id = sxx_precursor.601
	title = sxx_precursor.601.name
	desc = sxx_precursor.601.desc
	picture = GFX_evt_archaeological_dig
	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			is_sxx_sect = yes
			has_sxx_precursor_intro = no
		}
		solar_system = { has_star_flag = sxx_precursor_4 }
		solar_system = { NOT = { is_same_value = root.owner.capital_scope.solar_system } }
		FROM = {
			has_anomaly = no
			is_star = no
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			any_playable_country = {
				has_country_flag = sxx_precursor4_intro
			}
		}
	}

	immediate = {
		owner = { set_country_flag = sxx_precursor4_intro }
	}

	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
		owner = {
			begin_event_chain = {
				event_chain = sxx_precursor4_chain
				target = THIS
			}
			small_artifact_reward = yes
		}
	}
}

# Mining Base
ship_event = {
	id = sxx_precursor.605
	title = "sxx_precursor.605.name"
	desc = "sxx_precursor.605.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_1 }
		}
	}

	option = {
		name = FASCINATING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_1"
				location = this
				owner = root.owner
			}
		}
	}
}

# Mining Base Project Completed
ship_event = {
	id = sxx_precursor.606
	title = "precursor.completed.name"
	desc = "sxx_precursor.606.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.610
	title = "sxx_precursor.610.name"
	desc = "sxx_precursor.610.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_2 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_2"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.611
	title = "precursor.completed.name"
	desc = "sxx_precursor.611.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.615
	title = "sxx_precursor.615.name"
	desc = "sxx_precursor.615.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_3 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_3"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.616
	title = "precursor.completed.name"
	desc = sxx_precursor.616.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.620
	title = "sxx_precursor.620.name"
	desc = "sxx_precursor.620.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_4 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_4"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.621
	title = "precursor.completed.name"
	desc = sxx_precursor.621.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.625
	title = "sxx_precursor.625.name"
	desc = "sxx_precursor.625.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_5 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_5"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.626
	title = "precursor.completed.name"
	desc = sxx_precursor.626.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.630
	title = "sxx_precursor.630.name"
	desc = "sxx_precursor.630.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_6 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_6"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.631
	title = "precursor.completed.name"
	desc = sxx_precursor.631.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.635
	title = "sxx_precursor.635.name"
	desc = "sxx_precursor.635.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor4_7 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_ARCHEOLOGY_7"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.636
	title = "precursor.completed.name"
	desc = sxx_precursor.636.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor4_chain"
				counter = "sxx_precursor4_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.697 } }
		}
	}
}

# Port to Home System events
country_event = {
	id = sxx_precursor.697
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOR = {
					has_global_flag = sxx_precursor4_system_discovered
					has_country_flag = sxx_precursor4_system
				}
				has_completed_event_chain_counter = {
					event_chain = "sxx_precursor4_chain"
					counter = "sxx_precursor4_artifacts"
				}
			}
			country_event = { id = sxx_precursor.698 }
		}
		else_if = {
			limit = {
				has_global_flag = sxx_precursor4_system_discovered
				NOT = { has_country_flag = sxx_precursor4_system }
				has_completed_event_chain_counter = {
					event_chain = sxx_precursor4_chain
					counter = sxx_precursor4_artifacts
				}
			}
			country_event = { id = sxx_precursor.699 }
		}
	}
}

# sxx_precursor4 Home System Discovered (HIDDEN)
country_event = {
	id = sxx_precursor.698
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = sxx_precursor4_system_discovered
		set_country_flag = sxx_precursor4_system

		if = {
			limit = {
				any_system_within_border = { has_star_flag = sxx_precursor_4 }
			}
			random_system_within_border = {
				limit = { has_star_flag = sxx_precursor_4 }
				save_event_target_as = precursor_spawn_system
			}
		}
		else = {
			random_system_within_border = {
				save_event_target_as = precursor_spawn_system
			}
		}
		event_target:precursor_spawn_system = {
			spawn_system = {
				min_distance = 10
				max_distance = 30
				max_jumps = 0
				initializer = "sxx_precursor4_system"
			}
			if = {
				limit = { last_created_system = { NOT = { has_hyperlane_to = prev } } }
				add_hyperlane = {
					from = this
					to = last_created_system
				}
			}
			else = {
				add_extra_hyperlane_to_spawned_system_effect = yes
			}
		}
		country_event = { id = sxx_precursor.700 days = 2 }
	}
}

# sxx_precursor4 Home System Discovered (Not First) (HIDDEN)
country_event = {
	id = sxx_precursor.699
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_country_flag = sxx_precursor4_system
		country_event = { id = sxx_precursor.700 days = 2 }
	}
}

# sxx_precursor4 Home System Discovered
country_event = {
	id = sxx_precursor.700
	title = "sxx_precursor.700.name"
	desc = "sxx_precursor.700.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:sxx_precursor4_home_star

	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = sxx_precursor4_home_star }
			save_event_target_as = sxx_precursor4_home_star
			root = { set_visited = prev }
			random_system_planet = {
				limit = { has_planet_flag = sxx_precursor4_homeworld }
				save_event_target_as = sxx_precursor4_homeworld
			}
		}
		#observer_event = { id = observer.56 }
	}

	option = {
		name = "sxx_precursor.700.a"
		end_event_chain = "sxx_precursor4_chain"
		begin_event_chain = {
			event_chain = "sxx_precursor4_homeworld_chain"
			target = ROOT
		}
		event_target:sxx_precursor4_homeworld = {
			enable_special_project = {
				name = "SXX_PRECURSOR4_HOMEWORLD_PROJECT"
				location = event_target:sxx_precursor4_homeworld
				owner = ROOT
			}
		}
	}
}

# sxx_precursor4 Homeworld
ship_event = {
	id = sxx_precursor.701
	title = "sxx_precursor.701.name"
	desc = "sxx_precursor.701.desc"
	picture = GFX_evt_archaeological_dig
	location = from

	is_triggered_only = yes

	trigger = {
		fromfrom = { has_planet_flag = sxx_precursor4_homeworld }
		owner = {
			is_ai = no
			has_country_flag = sxx_precursor4_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = sxx_precursor4_world_found
			set_global_flag = sxx_precursor4_homeworld_found
			if = {
				limit = { has_event_chain = sxx_precursor4_chain }
				end_event_chain = sxx_precursor4_chain
			}
			if = {
				limit = { has_event_chain = sxx_precursor4_homeworld_chain }
				end_event_chain = sxx_precursor4_homeworld_chain
			}
		}
	}

	option = {
		name = "FASCINATING"
		owner = {
			#add_relic = r_sxx_array_disk
			large_artifact_reward = yes
			add_monthly_resource_mult = {
				resource = unity
				value = 120
				min = 240
				max = 9999
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			if = {
				limit = { has_ancrel = yes }
				custom_tooltip = sxx_precursor4_artifact_research_unlocked
			}
		}
	}
}

# Someone else got there first
ship_event = {
	id = sxx_precursor.702
	title = "sxx_precursor.702.name"

	desc = {
		text = sxx_precursor.702.desc.a
		trigger = {
			owner = {
				OR = {
					has_event_chain = sxx_precursor4_chain
					has_event_chain = sxx_precursor4_homeworld_chain
				}
			}
		}
	}
	desc = {
		text = sxx_precursor.502.desc.b
		trigger = {
			owner = {
				NOR = {
					has_event_chain = sxx_precursor4_chain
					has_event_chain = sxx_precursor4_homeworld_chain
				}
			}
		}
	}

	location = from
	picture = GFX_evt_archaeological_dig

	is_triggered_only = yes

	immediate = {
		owner = {
			set_country_flag = sxx_precursor4_world_found
			if = {
				limit = { has_event_chain = sxx_precursor4_chain }
				end_event_chain = "sxx_precursor4_chain"
			}
			if = {
				limit = { has_event_chain = sxx_precursor4_homeworld_chain }
				end_event_chain = "sxx_precursor4_homeworld_chain"
			}
		}
	}

	option = {
		name = "UNFORTUNATE"
		if = {
			limit = { has_ancrel = yes }
			custom_tooltip = sxx_precursor4_artifact_research_unlocked
		}
	}
}

# Vultaum Artifact Research Complete
country_event = {
	id = sxx_precursor.710
	title = sxx_precursor.710.name
	desc = {
		text = sxx_precursor.710.desc.not_evil
		trigger = {
			NOT = { has_valid_civic = civic_sxx_evil_way }
		}
	}
	desc = {
		text = sxx_precursor.710.desc.evil
		trigger = {
			has_valid_civic = civic_sxx_evil_way
		}
	}

	picture = GFX_evt_ancient_databank
	location = from

	is_triggered_only = yes

	option = {
		name = INTERESTING

		owner = {
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
			if = {
				limit = {
					has_valid_civic = civic_sxx_evil_way
				}
				add_tech_progress = {
					tech = tech_secrets_sxx_precursor4
					progress = 0.1
				}
			}
		}

		add_modifier = {
			modifier = artifact_sxx_precursor4_research_completed # computer research and amenities bonus
			days = -1
		}
	}
}

################################################ 观天阁 ################################################

# via on_survey = {} | this = surveying vessel
ship_event = {
	id = sxx_precursor.801
	title = sxx_precursor.801.name
	desc = sxx_precursor.801.desc
	picture = GFX_evt_archaeological_dig
	is_triggered_only = yes

	trigger = {
		owner = {
			is_ai = no
			is_sxx_sect = yes
			has_sxx_precursor_intro = no
		}
		solar_system = { has_star_flag = sxx_precursor_5 }
		solar_system = { NOT = { is_same_value = root.owner.capital_scope.solar_system } }
		FROM = {
			has_anomaly = no
			is_star = no
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 0.25
			any_playable_country = {
				has_country_flag = sxx_precursor5_intro
			}
		}
	}

	immediate = {
		owner = { set_country_flag = sxx_precursor5_intro }
	}

	option = {
		name = INTERESTING
		hidden_effect = { owner = { country_event = { id = story.5 days = 30 } } }
		owner = {
			begin_event_chain = {
				event_chain = sxx_precursor5_chain
				target = THIS
			}
			small_artifact_reward = yes
		}
	}
}

# Mining Base
ship_event = {
	id = sxx_precursor.805
	title = "sxx_precursor.805.name"
	desc = "sxx_precursor.805.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_1 }
		}
	}

	option = {
		name = FASCINATING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_1"
				location = this
				owner = root.owner
			}
		}
	}
}

# Mining Base Project Completed
ship_event = {
	id = sxx_precursor.806
	title = "precursor.completed.name"
	desc = "sxx_precursor.806.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.810
	title = "sxx_precursor.810.name"
	desc = "sxx_precursor.810.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_2 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_2"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.811
	title = "precursor.completed.name"
	desc = "sxx_precursor.811.desc"
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.815
	title = "sxx_precursor.815.name"
	desc = "sxx_precursor.815.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_3 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_3"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.816
	title = "precursor.completed.name"
	desc = sxx_precursor.816.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.820
	title = "sxx_precursor.820.name"
	desc = "sxx_precursor.820.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_4 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_4"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.821
	title = "precursor.completed.name"
	desc = sxx_precursor.821.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.825
	title = "sxx_precursor.825.name"
	desc = "sxx_precursor.825.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_5 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_5"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.826
	title = "precursor.completed.name"
	desc = sxx_precursor.826.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Observatory
ship_event = {
	id = sxx_precursor.830
	title = "sxx_precursor.830.name"
	desc = "sxx_precursor.830.desc"
	picture = GFX_evt_outpost
	location = FROM
	trackable = yes

	is_triggered_only = yes

	immediate = {
		hidden_effect = {
			owner = { set_country_flag = sxx_precursor5_6 }
		}
	}

	option = {
		name = INTERESTING
		from = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_ARCHEOLOGY_6"
				location = this
				owner = root.owner
			}
		}
	}
}

# Observatory Project Completed
ship_event = {
	id = sxx_precursor.831
	title = "precursor.completed.name"
	desc = sxx_precursor.831.desc
	picture = GFX_evt_archaeological_dig
	location = FROMFROM

	is_triggered_only = yes

	option = {
		name = "precursor.completed.a"
		owner = {
			if = {
				limit = { has_ancrel = yes }
				small_artifact_reward = yes
			}
			add_event_chain_counter = {
				event_chain = "sxx_precursor5_chain"
				counter = "sxx_precursor5_artifacts"
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = { country_event = { id = sxx_precursor.897 } }
		}
	}
}

# Port to Home System events
country_event = {
	id = sxx_precursor.897
	hide_window = yes
	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				NOR = {
					has_global_flag = sxx_precursor5_system_discovered
					has_country_flag = sxx_precursor5_system
				}
				has_completed_event_chain_counter = {
					event_chain = "sxx_precursor5_chain"
					counter = "sxx_precursor5_artifacts"
				}
			}
			country_event = { id = sxx_precursor.898 }
		}
		else_if = {
			limit = {
				has_global_flag = sxx_precursor5_system_discovered
				NOT = { has_country_flag = sxx_precursor5_system }
				has_completed_event_chain_counter = {
					event_chain = sxx_precursor5_chain
					counter = sxx_precursor5_artifacts
				}
			}
			country_event = { id = sxx_precursor.899 }
		}
	}
}

# sxx_precursor5 Home System Discovered (HIDDEN)
country_event = {
	id = sxx_precursor.898
	hide_window = yes

	fire_only_once = yes

	is_triggered_only = yes

	immediate = {
		set_global_flag = sxx_precursor5_system_discovered
		set_country_flag = sxx_precursor5_system

		if = {
			limit = {
				any_system_within_border = { has_star_flag = sxx_precursor_5 }
			}
			random_system_within_border = {
				limit = { has_star_flag = sxx_precursor_5 }
				save_event_target_as = precursor_spawn_system
			}
		}
		else = {
			random_system_within_border = {
				save_event_target_as = precursor_spawn_system
			}
		}
		event_target:precursor_spawn_system = {
			spawn_system = {
				min_distance = 10
				max_distance = 30
				max_jumps = 0
				initializer = "sxx_precursor5_system"
			}
			if = {
				limit = { last_created_system = { NOT = { has_hyperlane_to = prev } } }
				add_hyperlane = {
					from = this
					to = last_created_system
				}
			}
			else = {
				add_extra_hyperlane_to_spawned_system_effect = yes
			}
		}
		country_event = { id = sxx_precursor.900 days = 2 }
	}
}

# sxx_precursor5 Home System Discovered (Not First) (HIDDEN)
country_event = {
	id = sxx_precursor.899
	hide_window = yes

	is_triggered_only = yes

	immediate = {
		set_country_flag = sxx_precursor5_system
		country_event = { id = sxx_precursor.900 days = 2 }
	}
}

# sxx_precursor5 Home System Discovered
country_event = {
	id = sxx_precursor.900
	title = "sxx_precursor.900.name"
	desc = "sxx_precursor.900.desc"
	picture = GFX_evt_federation_fleet
	location = event_target:sxx_precursor5_home_star

	is_triggered_only = yes

	immediate = {
		random_system = {
			limit = { has_star_flag = sxx_precursor5_home_star }
			save_event_target_as = sxx_precursor5_home_star
			root = { set_visited = prev }
			random_system_planet = {
				limit = { has_planet_flag = sxx_precursor5_homeworld }
				save_event_target_as = sxx_precursor5_homeworld
			}
		}
		#observer_event = { id = observer.56 }
	}

	option = {
		name = "sxx_precursor.900.a"
		end_event_chain = "sxx_precursor5_chain"
		begin_event_chain = {
			event_chain = "sxx_precursor5_homeworld_chain"
			target = ROOT
		}
		event_target:sxx_precursor5_homeworld = {
			enable_special_project = {
				name = "SXX_PRECURSOR5_HOMEWORLD_PROJECT"
				location = event_target:sxx_precursor5_homeworld
				owner = ROOT
			}
		}
	}
}

# sxx_precursor5 Homeworld
ship_event = {
	id = sxx_precursor.901
	title = "sxx_precursor.901.name"
	desc = "sxx_precursor.901.desc"
	picture = GFX_evt_archaeological_dig
	location = from

	is_triggered_only = yes

	trigger = {
		fromfrom = { has_planet_flag = sxx_precursor5_homeworld }
		owner = {
			is_ai = no
			has_country_flag = sxx_precursor5_system
		}
	}

	immediate = {
		owner = {
			set_country_flag = sxx_precursor5_world_found
			set_global_flag = sxx_precursor5_homeworld_found
			if = {
				limit = { has_event_chain = sxx_precursor5_chain }
				end_event_chain = sxx_precursor5_chain
			}
			if = {
				limit = { has_event_chain = sxx_precursor5_homeworld_chain }
				end_event_chain = sxx_precursor5_homeworld_chain
			}
		}
		## 额外 ##
		leader = {
			save_event_target_as = sxx_leader_will_be_killed
		}
		#########
	}

	option = {
		name = "FASCINATING"
		owner = {
			#add_relic = r_sxx_star_eye
			large_artifact_reward = yes
			add_monthly_resource_mult = {
				resource = unity
				value = 120
				min = 240
				max = 9999
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			add_monthly_resource_mult = {
				resource = engineering_research
				value = @tier3researchreward
				min = @tier3researchmin
				max = @tier3researchmax
			}
			if = {
				limit = { has_ancrel = yes }
				custom_tooltip = sxx_precursor5_artifact_research_unlocked
			}
		}
		hidden_effect = {
			ship_event = { id = sxx_precursor.905 }
		}
	}
}

# Someone else got there first
ship_event = {
	id = sxx_precursor.902
	title = "sxx_precursor.902.name"

	desc = {
		text = sxx_precursor.902.desc.a
		trigger = {
			owner = {
				OR = {
					has_event_chain = sxx_precursor5_chain
					has_event_chain = sxx_precursor5_homeworld_chain
				}
			}
		}
	}
	desc = {
		text = sxx_precursor.902.desc.b
		trigger = {
			owner = {
				NOR = {
					has_event_chain = sxx_precursor5_chain
					has_event_chain = sxx_precursor5_homeworld_chain
				}
			}
		}
	}

	location = from
	picture = GFX_evt_archaeological_dig

	is_triggered_only = yes

	immediate = {
		owner = {
			set_country_flag = sxx_precursor5_world_found
			if = {
				limit = { has_event_chain = sxx_precursor5_chain }
				end_event_chain = "sxx_precursor5_chain"
			}
			if = {
				limit = { has_event_chain = sxx_precursor5_homeworld_chain }
				end_event_chain = "sxx_precursor5_homeworld_chain"
			}
		}
	}

	option = {
		name = "UNFORTUNATE"
		if = {
			limit = { has_ancrel = yes }
			custom_tooltip = sxx_precursor5_artifact_research_unlocked
		}
	}
}

# sxx_precursor5 Homeworld
ship_event = {
	id = sxx_precursor.905
	title = "sxx_precursor.905.name"
	desc = "sxx_precursor.905.desc"
	picture = GFX_evt_space_funeral
	location = root

	is_triggered_only = yes

	after = {
		event_target:sxx_leader_will_be_killed = {
			kill_leader = { show_notification = no }
		}
		owner = { add_relic = r_sxx_star_eye }
	}

	option = {
		name = sxx_precursor.905.a
	}
}


# Vultaum Artifact Research Complete
country_event = {
	id = sxx_precursor.910
	title = sxx_precursor.910.name
	desc = sxx_precursor.910.desc

	picture = GFX_evt_ancient_databank
	location = from

	is_triggered_only = yes

	option = {
		name = INTERESTING

		owner = {
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier4researchreward
				min = @tier4researchmin
				max = @tier4researchmax
			}
		}

		add_modifier = {
			modifier = artifact_sxx_precursor5_research_completed # computer research and amenities bonus
			days = -1
		}
	}
}

######################################

# 私人收藏家
# Private Collector has Artifact
country_event = {
	id = sxx_precursor.10000
	title = "sxx_precursor.10000.name"
	desc = "sxx_precursor.10000.desc"
	picture = GFX_evt_archaeological_dig
	location = event_target:collector_home
	is_triggered_only = yes

	trigger = {
		is_ai = no
		years_passed > 50
		NOR = {
			has_country_flag = ongoing_sxx_precursor_artifact
			has_country_flag = sxx_precursor_collector_fired
		}
		OR = {
			AND = {
				has_event_chain = sxx_precursor1_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor1_chain
						counter = sxx_precursor1_artifacts
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor2_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor2_chain
						counter = sxx_precursor2_artifacts
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor3_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor3_chain
						counter = sxx_precursor3_artifacts
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor4_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor4_chain
						counter = sxx_precursor4_artifacts
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor5_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor5_chain
						counter = sxx_precursor5_artifacts
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1
		modifier = {
			factor = 1.25
			years_passed > 100
		}
		modifier = {
			factor = 0.75
			has_country_flag = recent_new_sxx_precursor
		}
	}

	immediate = {
		# Reduce odds of firing in (relatively) quick succession
		set_timed_country_flag = {
			flag = recent_new_sxx_precursor
			years = 9
		}
		# Choose a relevant artifact
		set_country_flag = sxx_precursor_collector_fired
		random_owned_planet = { save_event_target_as = collector_home }
		if = {
			limit = { has_event_chain = sxx_precursor1_chain }
			set_country_flag = sxx_precursor1_artifact_recoverer
			break = yes
		}
		if = {
			limit = { has_event_chain = sxx_precursor2_chain }
			set_country_flag = sxx_precursor2_artifact_recoverer
			break = yes
		}
		if = {
			limit = { has_event_chain = sxx_precursor3_chain }
			set_country_flag = sxx_precursor3_artifact_recoverer
			break = yes
		}
		if = {
			limit = { has_event_chain = sxx_precursor4_chain }
			set_country_flag = sxx_precursor4_artifact_recoverer
			break = yes
		}
		if = {
			limit = { has_event_chain = sxx_precursor5_chain }
			set_country_flag = sxx_precursor5_artifact_recoverer
			break = yes
		}
	}

	option = {
		name = sxx_precursor.10000.a
		allow = { resource_stockpile_compare = { resource = energy value >= 500 } }
		custom_tooltip = buy_precursor_artifact
		add_resource = { energy = -500 }
		sxx_collector_surrenders_artifact = yes
	}
	option = {
		name = sxx_precursor.10000.b
		allow = { resource_stockpile_compare = { resource = influence value >= 100 } }
		custom_tooltip = seize_precursor_artifact
		add_resource = { influence = -100 }
		sxx_collector_surrenders_artifact = yes
	}
	option = {
		name = sxx_precursor.10000.c
		custom_tooltip = leave_precursor_artifact
	}

	after = {
		hidden_effect = {
			remove_country_flag = sxx_precursor1_artifact_recoverer
			remove_country_flag = sxx_precursor2_artifact_recoverer
			remove_country_flag = sxx_precursor3_artifact_recoverer
			remove_country_flag = sxx_precursor4_artifact_recoverer
			remove_country_flag = sxx_precursor5_artifact_recoverer
		}
	}
}

# New Precursor Anomaly Found
# via on_five_year_pulse_country = {}
country_event = {
	id = sxx_precursor.10001
	title = "sxx_precursor.10001.name"
	desc = sxx_precursor.10001.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet
	trackable = yes
	is_triggered_only = yes

	trigger = {
		is_ai = no
		years_passed > 50
		NOT = { has_country_flag = ongoing_sxx_precursor_artifact }
		OR = {
			AND = {
				has_event_chain = sxx_precursor1_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor1_chain
						counter = sxx_precursor1_artifacts
					}
				}
				any_system_within_border = {
					has_star_flag = sxx_precursor_1
					any_system_planet = {
						NOT = { has_planet_flag = precursor_world }
						uninhabitable_regular_planet = yes
						has_owner = no
						has_anomaly = no
						is_surveyed = {
							who = ROOT
							status = yes
						}
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor2_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor2_chain
						counter = sxx_precursor2_artifacts
					}
				}
				any_system_within_border = {
					has_star_flag = sxx_precursor_2
					any_system_planet = {
						NOT = { has_planet_flag = precursor_world }
						uninhabitable_regular_planet = yes
						has_owner = no
						has_anomaly = no
						is_surveyed = {
							who = ROOT
							status = yes
						}
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor3_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor3_chain
						counter = sxx_precursor3_artifacts
					}
				}
				any_system_within_border = {
					has_star_flag = sxx_precursor_3
					any_system_planet = {
						NOT = { has_planet_flag = precursor_world }
						uninhabitable_regular_planet = yes
						has_owner = no
						has_anomaly = no
						is_surveyed = {
							who = ROOT
							status = yes
						}
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor4_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor4_chain
						counter = sxx_precursor4_artifacts
					}
				}
				any_system_within_border = {
					has_star_flag = sxx_precursor_4
					any_system_planet = {
						NOT = { has_planet_flag = precursor_world }
						uninhabitable_regular_planet = yes
						has_owner = no
						has_anomaly = no
						is_surveyed = {
							who = ROOT
							status = yes
						}
					}
				}
			}
			AND = {
				has_event_chain = sxx_precursor5_chain
				NOT = {
					has_completed_event_chain_counter = {
						event_chain = sxx_precursor5_chain
						counter = sxx_precursor5_artifacts
					}
				}
				any_system_within_border = {
					has_star_flag = sxx_precursor_5
					any_system_planet = {
						NOT = { has_planet_flag = precursor_world }
						uninhabitable_regular_planet = yes
						has_owner = no
						has_anomaly = no
						is_surveyed = {
							who = ROOT
							status = yes
						}
					}
				}
			}
		}
	}

	weight_multiplier = {
		factor = 1
		# NOTE: although gestalts are ineligible for the other events in this series, that actually increases their odds of receiving this one (as opposed to nothing at all). This is because 'on_actions' do not count weightings for random_events whose triggers will fail. The same therefore applies to regular empires who have already triggered the one-off events in this series.
		modifier = {
			factor = 0.9
			is_gestalt = yes
		}
		modifier = {
			factor = 1.25
			years_passed > 100
		}
		modifier = {
			factor = 0.75
			has_country_flag = recent_new_sxx_precursor
		}
	}

	immediate = {
		# Reduce odds of firing in (relatively) quick succession
		set_timed_country_flag = {
			flag = recent_new_sxx_precursor
			years = 9
		}
		# Spawn a Special Project
		if = {
			limit = {
				has_event_chain = sxx_precursor1_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_1
				}
			}
			spawn_sxx_precursor1_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor2_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_2
				}
			}
			spawn_sxx_precursor2_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor3_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_3
				}
			}
			spawn_sxx_precursor3_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor4_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_4
				}
			}
			spawn_sxx_precursor4_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor5_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_5
				}
			}
			spawn_sxx_precursor5_anomaly = yes
			break = yes
		}
	}

	option = {
		name = sxx_precursor.10001.a
		custom_tooltip = new_sxx_precursor_project
	}
}

# Vultaum Artifact Recovered
ship_event = {
	id = sxx_precursor.10002
	title = "sxx_precursor.10002.name"
	desc = sxx_precursor.10002.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet

	is_triggered_only = yes

	immediate = {
		owner = { set_country_flag = sxx_precursor1_artifact_recoverer }
	}

	after = {
		hidden_effect = {
			owner = { remove_country_flag = sxx_precursor1_artifact_recoverer }
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_event_chain_counter = {
				event_chain = sxx_precursor1_chain
				counter = sxx_precursor1_artifacts
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = {
				country_event = { id = sxx_precursor.97 }
				remove_country_flag = ongoing_sxx_precursor_artifact
			}
		}
	}
}

# Vultaum Artifact Recovered
ship_event = {
	id = sxx_precursor.10003
	title = "sxx_precursor.10003.name"
	desc = sxx_precursor.10002.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet

	is_triggered_only = yes

	immediate = {
		owner = { set_country_flag = sxx_precursor2_artifact_recoverer }
	}

	after = {
		hidden_effect = {
			owner = { remove_country_flag = sxx_precursor2_artifact_recoverer }
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_event_chain_counter = {
				event_chain = sxx_precursor2_chain
				counter = sxx_precursor2_artifacts
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = {
				country_event = { id = sxx_precursor.297 }
				remove_country_flag = ongoing_sxx_precursor_artifact
			}
		}
	}
}

# Vultaum Artifact Recovered
ship_event = {
	id = sxx_precursor.10004
	title = "sxx_precursor.10004.name"
	desc = sxx_precursor.10002.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet

	is_triggered_only = yes

	immediate = {
		owner = { set_country_flag = sxx_precursor3_artifact_recoverer }
	}

	after = {
		hidden_effect = {
			owner = { remove_country_flag = sxx_precursor3_artifact_recoverer }
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_event_chain_counter = {
				event_chain = sxx_precursor3_chain
				counter = sxx_precursor3_artifacts
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = {
				country_event = { id = sxx_precursor.497 }
				remove_country_flag = ongoing_sxx_precursor_artifact
			}
		}
	}
}

# Vultaum Artifact Recovered
ship_event = {
	id = sxx_precursor.10005
	title = "sxx_precursor.10005.name"
	desc = sxx_precursor.10002.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet

	is_triggered_only = yes

	immediate = {
		owner = { set_country_flag = sxx_precursor4_artifact_recoverer }
	}

	after = {
		hidden_effect = {
			owner = { remove_country_flag = sxx_precursor4_artifact_recoverer }
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_event_chain_counter = {
				event_chain = sxx_precursor4_chain
				counter = sxx_precursor4_artifacts
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = society_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = {
				country_event = { id = sxx_precursor.697 }
				remove_country_flag = ongoing_sxx_precursor_artifact
			}
		}
	}
}

# Vultaum Artifact Recovered
ship_event = {
	id = sxx_precursor.10006
	title = "sxx_precursor.10006.name"
	desc = sxx_precursor.10002.desc
	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet

	is_triggered_only = yes

	immediate = {
		owner = { set_country_flag = sxx_precursor5_artifact_recoverer }
	}

	after = {
		hidden_effect = {
			owner = { remove_country_flag = sxx_precursor5_artifact_recoverer }
		}
	}

	option = {
		name = INTERESTING
		owner = {
			add_event_chain_counter = {
				event_chain = sxx_precursor5_chain
				counter = sxx_precursor5_artifacts
				amount = 1
			}
			add_monthly_resource_mult = {
				resource = physics_research
				value = @tier1researchreward
				min = @tier1researchmin
				max = @tier1researchmax
			}
			hidden_effect = {
				country_event = { id = sxx_precursor.897 }
				remove_country_flag = ongoing_sxx_precursor_artifact
			}
		}
	}
}

# Precursor Anomaly Spawned via Minor Artifact Action
country_event = {
	id = sxx_precursor.10020
	title = sxx_precursor.10001.name
	desc = sxx_precursor.10020.desc

	picture = GFX_evt_archaeological_dig
	location = event_target:sxx_precursor_planet
	trackable = yes

	is_triggered_only = yes

	immediate = {
		if = {
			limit = {
				has_event_chain = sxx_precursor1_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_1
				}
			}
			spawn_sxx_precursor1_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor2_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_2
				}
			}
			spawn_sxx_precursor2_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor3_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_3
				}
			}
			spawn_sxx_precursor3_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor4_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_4
				}
			}
			spawn_sxx_precursor4_anomaly = yes
			break = yes
		}
		if = {
			limit = {
				has_event_chain = sxx_precursor5_chain
				any_system_within_border = {
					has_star_flag = sxx_precursor_5
				}
			}
			spawn_sxx_precursor5_anomaly = yes
			break = yes
		}
	}

	option = {
		name = sxx_precursor.10001.a
		custom_tooltip = new_sxx_precursor_project
	}
}